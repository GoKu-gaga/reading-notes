# 添加样式

## CSS选择符

### 类型选择符/元素选择符
用于选择特定类型的元素，只要写出想要添加样式的元素名即可
``` css
p {
  color: black;
}
```
### 后代选择符
用于选择某个或某组元素的后代，写法是在两个选择符之间添加空格
``` css
blockquote p {
  color: black;
}
```
### ID 选择符
由井号（`#`）开头
``` css
#id {
  color: black;
}
```
### 类选择符
由句点（`.`）开头
``` css
.class {
  color: black;
}
```
### 子选择符
只选择一个元素的直接后代，也就是子元素。
```css
#id > li {
  color: black;
}
```
### 同辈选择符
选择位于某个元素后面，并于该元素拥有共同父元素的元素
```css
h2 + li {
  color: black;
}
```

### 组合子
描述了自身两侧的选择符组合的方式。

- `>`：子组合子
- `+`：相邻同辈组合子
- `~`：一般同辈组合子

> 相邻同辈选择符和一般同辈选择符都不会选择前面的同辈元素。
> 通常情况下，浏览器会按照元素在页面中出现的先后次序给它们应用样式。如果有向前同辈组合子，浏览器就必须先记住相应的选择符，然后对文档进行多轮处理才能彻底应用样式。

### 通用选择符 
`*` 可以匹配任何元素
### 属性选择符
基于元素是否有某个属性或者属性是否有某个值来选择元素
``` css
abbr[title] {
  border-bottom: 1px solid #999;
}
input[type="submit"] {
  cursor: pointer;
}
```
- 匹配以某些字符开头的属性值，在等号前面加上插入符（`^`）
  ``` css
  a[href^="http:"]
  ```
- 匹配以某些字符结尾的属性值，在等号前面加上美元符号（`$`）
  ``` css
  img[src$=".jpg"]
  ```
- 匹配包含某些字符的属性值，在等号前面加上（`*`）
  ``` css
  a[href*="/about/"]
  ```
- 匹配以空格分隔的字符串中的属性值（比如rel属性的值），在等号前面加上波浪线（`~`）
  ``` css
  a[ref~=next]
  ```
- 选择开头是指定值或指定值后连着一个短划线的情况，在等号前面加上竖线（`|`）
  ``` css
  a[lang|=en]
  // 匹配 en 和 en-us
  ```

### 伪元素
想选择的页面区域不是通过元素来表示的，也不想为此给页面添加额外的标记。CSS 为这种情况提供了一些特殊选择符，叫作`伪元素`。
- `::first-letter`: 选择一段文本的第一个字符
- `::first-line`: 选择一段文本的第一行
- `::before`: 内容开头
- `::after`: 内容末尾
> 警告：使用伪元素插入内容时要小心！千万不能用它们插入对交互有实质影响的内容，以避免CSS不能正确加载


### 伪类

想基于文档结构以外的情形来为页面添加样式，比如基于超链接或表单元素的状态。可以使用伪类选择符。
伪类选择符的语法时以一个冒号开头，用于选择元素的特定状态或关系。
常见伪类：

- `:link`
- `:visited`
- `:hover`
- `:focus`
- `:active`

很多元素都可以使用`:hover`。但要注意的是，在触摸屏和键盘等输入方式下不一定真的有悬停状态。因此不要在重要的交互功能中使用  `:hover`

- `:target`: 目标
- `:not()`： 反选

### 结构化伪类

- `nth-child()`：从第一个元素郑旭计算
- `nth-last-child(N)`: 从最后一个元素倒序计算
- `nth-of-type(N)`
- `nth-last-of-type(N)`
- `:first-child`: 相当于 `nth-child(1)`
- `:last-child`: 相当于 `nth-last-child(1)`

### 表单伪类

- `:required`: 选择带有 required 属性的表单元素
``` css
input:required {
  outline: 2px solid #eee;
}
```
- `:optional`: 表单可选元素
``` css
input:optional {
  border-color: #ccc;
}
```

- `:valid`
- `:invalid`
- `:in-range`
- `:out-of-range`

### 层叠（Cascade）
层叠机制的原理是为规则赋予不同的重要程度。
层叠机制的重要性级别从高到低：

- 标注为`!important`的用户样式
- 标注为`!important`的作者样式
- 作者样式
- 用户样式
- 浏览器（或用户代码）的默认样式

在此基础上，规则再按选择符的特殊性排序。
特殊性高的选择符会覆盖特殊性低的选择符，如果两条规则的特殊性相等，则后定义的规则优先。

### 特殊性

特殊性四个级别，即 a、b、c、d:

- 行内样式，a 为 1
- b 等于 ID 选择符的数目
- c 等于类（class）选择符、伪类选择符及属性选择符的数目
- d 等于类型（type）选择符和为元素选择符的数目

|  选择符   | 特殊性  | 十进制特殊性 |
|  :-----  | :-----:  | -----: |
| style=""  | 1,0,0,0 | 1000 |
| #wrapper #content {} | 0,2,0,0 | 200 |
| #wrapper .datePosted {}  | 0,1,1,0 | 110 |
| div#content {}  | 0,1,0,1 | 101 |
| #content {}  | 0,1,0,0 | 100 |
| p.comment .datePosted {}  | 0,0,2,1 | 21 |
| p.comment {}  | 0,0,1,1 | 11 |
| div p {}  | 0,0,0,2 | 2 |
| p {}  | 0,0,0,1 | 1 |

> 通用选择符（*）的特殊性为 0，无论它在规则声明中出现多少次。

### 继承
有些属性，像颜色或字体大小，会被应用他们的元素的后代所继承。继承的属性值没有任何特殊性，连 0 都说不上。意味着使用特殊性为0的通用选择符设置的样式都可以覆盖继承的样式。

### 为文档应用样式
- style: 样式不多，不愿意浏览器额外下载文件而耽误时间
- link：为了样式能在多个页面中重用
> 使用link 或 style 在HTML中添加多个样式或样式块时，他们声明的次序就是他们在HTML源代码中出现的次序。

##### 性能
- 减少 HTTP 请求
- 压缩和缓存内容
- 不让浏览器选然阻塞JavaScript


#### 链接
[伪类](https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes)
[伪元素](https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements)